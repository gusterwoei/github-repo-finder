<!--
  Generated template for the Home page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Home</ion-title>
  </ion-navbar>

</ion-header>


<ion-content>
  <!-- username label -->
  <ion-list inset>
    <ion-item>
      <ion-label>Username</ion-label>
      <ion-input type='text' [(ngModel)]='username'></ion-input>
    </ion-item>
  </ion-list>  

  <!-- padding -->
  <div padding>
    <button ion-button block (click)="getRepos()">Search</button>
  </div>

  <!-- in case repository not found -->
  <ion-item *ngIf="!success">
    No Github repository found for {{username}}
  </ion-item>

  <!-- list of github repositories -->
  <div *ngIf="success">
    <ion-card *ngFor="let repo of foundRepos" (click)='goToDetails(repo)'>
      <ion-card-header>
        <ion-item>
          <ion-avatar item-left>
            <img src="{{repo.owner.avatar_url}}">
          </ion-avatar>
          {{repo.name}}
        </ion-item>
      </ion-card-header>
      <ion-card-content>
        <div col>
          <div row>
            {{repo.description}}
          </div>
          <div row>
            <a href="{{repo.html_url}}">{{repo.html_url}}</a>  
          </div>
          <span item-right>{{repo.created_at | date}}</span>
        </div>
      </ion-card-content>
    </ion-card>  
  </div>
  
</ion-content>
